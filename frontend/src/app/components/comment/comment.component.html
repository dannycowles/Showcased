<div [id]="comment.id" class="comment mb-5 d-flex align-items-start">
  <img class="profile-picture" [ngSrc]="comment.profilePicture" alt="Comment Profile Picture" width="100" height="100">
  <div class="ms-3 flex-grow-1">
    <h4><a [routerLink]="['/user', comment.userId]" class="text-dark">{{comment.username}}</a></h4>
    <p>{{utilsService.getRelativeDate(comment.createdAt)}}</p>
    @if (comment.isOwnComment) {
      <div class="mb-4">
        <button type="button" class="btn btn-secondary btn-sm me-1" [hidden]="!isCommentEditable() || isEditing" (click)="openEditBox()">Edit</button>
        <button type="button" class="btn btn-danger btn-sm" (click)="deleteComment()">Delete</button>
      </div>
    }

    @if (isEditing) {
      <textarea class="form-control w-75" [(ngModel)]="editText" rows="5"></textarea>
      <div id="commentHelpBlock" class="form-text">{{maxCommentLength - editText.length}} characters remaining</div>
      <div class="mt-3">
        <button type="button" class="btn btn-secondary me-3" (click)="isEditing = false">Cancel</button>
        <button type="button" class="btn btn-primary" [disabled]="editText === comment.commentText" (click)="saveEdit()">Save Changes</button>
      </div>
    } @else {
      <p>{{comment.commentText}}</p>
    }
  </div>
  <div class="ms-auto me-5 d-flex align-items-center">
    <yt-button-heart [isLiked]="comment.isLikedByUser" [size]="heartSize" (click)="toggleCommentLikeState()"></yt-button-heart>
    <div id="numLikes">{{comment.numLikes}}</div>
  </div>
</div>
