<div [id]="comment.id" class="comment mb-5 d-flex align-items-start">
  <img class="profile-picture" [ngSrc]="comment.profilePicture" alt="Comment Profile Picture" width="100" height="100">
  <div class="ms-3 flex-grow-1">
    <h4><a [routerLink]="['/user', comment.username]" class="username">{{comment.username}}</a></h4>
    <p>{{utilsService.getRelativeDate(comment.createdAt)}}</p>

    @if (isEditing) {
      <textarea class="form-control comment-box w-75" [(ngModel)]="editText" rows="5"></textarea>
      <div id="commentHelpBlock" class="form-text text-reset">{{maxCommentLength - editText.length}} characters remaining</div>
      <div class="mt-3">
        <button type="button" class="btn btn-secondary me-3" (click)="isEditing = false">Cancel</button>
        <button type="button" class="btn btn-primary save-button" [disabled]="editText === comment.commentText" (click)="saveEdit()">Save Changes</button>
      </div>
    } @else {
      <span class="fs-5">{{comment.commentText}}</span>
    }
  </div>

  <div class="d-flex flex-column gap-3 me-5">
    <div class="ms-auto d-flex align-items-center">
      <yt-button-heart [isLiked]="comment.isLikedByUser" [size]="heartSize" (click)="toggleCommentLikeState()"></yt-button-heart>
      <div id="numLikes">{{comment.numLikes}}</div>
    </div>

    @if (comment.isOwnComment) {
      <div class="d-flex gap-2">
        <button type="button" class="btn btn-link link" [hidden]="!isCommentEditable() || isEditing" (click)="openEditBox()">Edit</button>
        <button type="button" class="btn btn-link delete" (click)="deleteComment()">Delete</button>
      </div>
    }
  </div>

</div>
